!function(e){function t(t){for(var o,s,c=t[0],l=t[1],i=t[2],d=0,p=[];d<c.length;d++)s=c[d],r[s]&&p.push(r[s][0]),r[s]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(e[o]=l[o]);for(u&&u(t);p.length;)p.shift()();return a.push.apply(a,i||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],o=!0,c=1;c<n.length;c++){var l=n[c];0!==r[l]&&(o=!1)}o&&(a.splice(t--,1),e=s(s.s=n[0]))}return e}var o={},r={1:0},a=[];function s(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=o,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)s.d(n,o,function(t){return e[t]}.bind(null,o));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/spruceblog/";var c=window.webpackJsonp=window.webpackJsonp||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var i=0;i<c.length;i++)t(c[i]);var u=l;a.push([17,2]),n()}({14:function(e,t){const n=()=>window.innerWidth<=780,o=e=>{var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t.join("&")},r=(e,t,n,o)=>{t=t||0,n=n||0,o=o||"visible";const r=e.getBoundingClientRect(),a=Math.max(document.documentElement.clientHeight,window.innerHeight)-t,s=r.bottom-n<0,c=r.top-a+n>=0;return"above"===o?s:"below"===o?c:!s&&!c},a=(e,t)=>{let n;return()=>{clearTimeout(n),n=setTimeout(()=>{n=null,e(arguments)},t)}};e.exports={isMobile:n,serialize:o,isOnScreen:r,debounceEvent:a}},17:function(e,t,n){n(39),e.exports=n(37)},36:function(e,t){e.exports={PUBLIC_PATH:"/new/"}},37:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var o=n(1);let r,a;const s=document.querySelector("body"),c=e=>{e.preventDefault(),s.classList.toggle("menu-opened");const t=s.classList.contains("menu-opened"),n=t?{opacity:1,display:"flex"}:{opacity:0,display:"none"},c=t?.5:1;o.b.to(a,c,{...n,ease:o.a.easeInOut}),t&&o.b.set(r,{y:0,clearProps:"all",overwrite:"all"})},l=e=>{const t=e.target.querySelector(".sub-menu");o.b.to(t,.5,{opacity:1,display:"block",ease:o.a.easeOut})},i=e=>{const t=e.target.querySelector(".sub-menu");o.b.to(t,.3,{opacity:0,display:"none",ease:o.a.easeOut})};var u=n(3),d=n.n(u),p=n(4);const m=p.PUBLIC_PATH+"/wp-json/wp/v2/posts?_embed";let y,f,h=1,g=!1,b=!1,v=[];const _=()=>{const e=document.querySelector(".categories-menu li a.active");if(e.classList.contains("all")){document.querySelectorAll(".categories-menu li a").forEach(e=>{v.push(e.dataset.id)})}else v.push(e.dataset.id)},S=()=>{b=!0,y.style.display="none"},w=e=>{e.preventDefault(),g||b||(y.innerText="Loading...",g=!0,h++,d.a.get(m,{params:{page:h,per_page:9,categories:v}}).then(e=>{e.data.forEach(e=>{const t=document.createElement("div"),n=(e=>`<article id="post-${e.id}" class="post-item">\n    <a href="${e.link}">\n      <figure class="news-item__image">\n        <img src="${e._embedded["wp:featuredmedia"][0].media_details.sizes.default.source_url}">\n      </figure>\n      <div class="post-item__content">\n        <h3 class="eyebrow">${(e=>e._embedded["wp:term"][0].map(e=>e.name).join(", "))(e)}</h3>\n        <h2 class="title-h3">\n          ${e.title.rendered}\n        </h2>\n        <p class="small">${e.excerpt.rendered}</p>\n      </div>\n    </a>\n  </article>`)(e);t.innerHTML=n,t.className="col-md-4 col-xs-12",f.appendChild(t)}),e.data.length<9&&S()}).catch(e=>{400===e.response.status&&S()}).finally(()=>{y.innerText="Load more",g=!1}))};var L=n(14);const q=p.PUBLIC_PATH+"/wp-json/wp/v2/search",E=document.querySelector("body");let O,k,T,x,P,H,j="";const A=()=>{T.addEventListener("click",I),k.querySelector(".search-form__clear").addEventListener("click",M),x.addEventListener("keyup",Object(L.debounceEvent)(D,250)),document.addEventListener("click",C),o.b.set(k,{display:"none",opacity:0,y:-15})},C=e=>{e.target.closest(".search-form")||e.target.classList.contains("search-form")||(E.classList.remove("search-opened"),o.b.to(k,.3,{display:"none",opacity:0,y:-15,ease:o.a.easeOut}))},I=e=>{e.preventDefault(),E.classList.toggle("search-opened"),E.classList.contains("search-opened")?((()=>{const e=document.querySelector(".main-nav").offsetHeight;o.b.set(k,{minHeight:e})})(),o.b.to(k,.7,{display:"block",opacity:1,y:0,ease:o.a.easeOut,onComplete:()=>{x.focus()}})):o.b.to(k,.3,{display:"none",opacity:0,y:-15,ease:o.a.easeOut})},M=e=>{e.preventDefault(),x.value="",D(),x.focus()},$=e=>{P.innerHTML="",o.b.set(H,{display:"block",opacity:1}),H.innerText=e},D=e=>{if(j=x.value,o.b.set(H,{display:"none",opacity:0}),H.innerText="",""===x.value)return P.innerHTML="";const t=x.value;d.a.get(q,{params:{per_page:30,search:t}}).then(e=>{if(0===e.data.length)return $("Sorry, no results found. Please try with another term.");if(t!==j)return;let n="";e.data.forEach(e=>{n+=`<a href="${e.url}"><span>${e.title}</span></a>`}),P.innerHTML=n}).catch(e=>{$(e.message)})},B=()=>{document.querySelectorAll(".modal").forEach(e=>e.addEventListener("click",R)),document.querySelectorAll(".btn-modal").forEach(e=>e.addEventListener("click",U)),document.querySelectorAll(".btn-newsletter a").forEach(e=>e.addEventListener("click",U))},R=e=>{if(e.preventDefault(),e.target.closest(".modal__content")&&!e.target.classList.contains(".modal__close")&&!e.target.closest(".modal__close"))return;const t=e.target.closest(".modal"),n=t.querySelector(".modal__content");o.b.to(n,.5,{y:"-55%",opacity:0,ease:o.a.easeOut}),o.b.to(t,.5,{opacity:0,display:"none",delay:.3,ease:o.a.easeOut})},U=e=>{e.preventDefault();const t=e.target.hash.replace("#",""),n=document.getElementById(t),r=n.querySelector(".modal__content");o.b.fromTo(n,.5,{opacity:0,display:"none"},{opacity:1,display:"block",ease:o.a.easeOut}),o.b.fromTo(r,.7,{opacity:0,y:"-55%"},{y:"-50%",opacity:1,delay:.3,ease:o.a.easeOut})},N=e=>{e.preventDefault();const t="A"===e.target.nodeName?e.target:e.target.closest("a"),n=`${t.dataset.text} ${t.href}`;var o="https://twitter.com/intent/tweet?text="+encodeURIComponent(n);z(o)},W=e=>{e.preventDefault();const t=("A"===e.target.nodeName?e.target:e.target.closest("a")).href;z("https://www.facebook.com/sharer/sharer.php?u="+t)},z=e=>{var t=screen.height/2-250,n=screen.width/2-350;window.open(e,"Sharing","top="+t+",left="+n+",toolbar=0,status=0,width=700,height=500")};let J,X;const F=e=>{const t=document.body.scrollTop||document.documentElement.scrollTop,n=X.offsetTop;let r=t/(X.offsetHeight-n);r<0&&(r=0),r>1&&(r=1),o.b.to(J,.3,{scaleX:r,ease:o.a.easeOut})};let G,K,Q;const V=e=>{e.preventDefault(),G.classList.toggle("opened"),G.classList.contains("opened")?o.b.to(Q,.5,{opacity:1,display:"block",ease:o.a.easeInOut}):o.b.to(Q,.5,{opacity:0,display:"none",ease:o.a.easeInOut})},Y=e=>{e.target.closest(".categories-menu")||e.target.classList.contains("categories-menu")||(G.classList.remove("opened"),o.b.to(Q,.5,{opacity:0,display:"none",ease:o.a.easeInOut}))},Z=document.querySelector("body");(()=>{let e=0,t=!0;const n=document.querySelector(".main-nav");document.addEventListener("scroll",r=>{(r=>{r>n.offsetHeight?Z.classList.contains("scrolled")||(o.b.set(n,{y:"-100%"}),Z.classList.add("scrolled")):Z.classList.contains("scrolled")&&(o.b.set(n,{y:"0%",clearProps:"all"}),Z.classList.remove("scrolled")),r>e&&r>n.offsetHeight?t&&(o.b.to(n,.7,{y:"-100%",ease:o.a.easeOut}),t=!1):t||(o.b.to(n,1.5,{y:"0%",clearProps:"all",ease:o.a.easeOut}),t=!0),e=r})(document.body.scrollTop||document.documentElement.scrollTop)});const r=document.querySelectorAll(".sharing-menu");r&&r.forEach(e=>{const t=document.querySelector(".post-container").nextElementSibling;document.addEventListener("scroll",()=>{const r=n.offsetHeight+50,a=e.parentNode.getBoundingClientRect().left,s=e.parentNode.getBoundingClientRect().top,c=t.getBoundingClientRect().top;s<=r?o.b.set(e,{position:"fixed",top:r,left:a}):o.b.set(e,{position:"relative",top:0,left:0,clearProps:"all"}),c<=window.innerHeight/2?o.b.to(e,.3,{opacity:0,ease:o.a.easeOut}):o.b.to(e,.3,{opacity:1,ease:o.a.easeOut})})})})(),(()=>{const e=document.querySelector(".toggle-button");r=document.querySelector(".main-nav"),a=document.querySelector(".main-nav__menu"),e&&a&&e.addEventListener("click",c)})(),document.querySelectorAll(".menu-item-has-children").forEach(e=>{(window.innerWidth>480||e.classList.contains("show-mobile"))&&(e.addEventListener("mouseenter",l),e.addEventListener("mouseleave",i))}),y=document.querySelector(".inifity-load .btn"),f=document.querySelector(".posts-container .row"),y&&f&&(_(),y.addEventListener("click",w)),O=document.querySelector(".search-form"),T=O.querySelector(".search-form__submit"),k=O.querySelector(".search-form__container"),x=k.querySelector(".search-form__input"),P=k.querySelector(".search-form__result"),H=k.querySelector(".search-form__error"),A(),B(),(()=>{const e=document.querySelectorAll("a.share-facebook"),t=document.querySelectorAll("a.share-twitter");e.forEach(e=>e.addEventListener("click",W)),t.forEach(e=>e.addEventListener("click",N))})(),J=document.querySelector(".main-nav__progress span"),X=document.querySelector(".progress-content"),X&&J&&document.addEventListener("scroll",F),G=document.querySelector(".categories-menu"),K=document.querySelector(".categories-menu__current"),Q=document.querySelector(".categories-menu ul"),G&&K&&Q&&window.innerWidth<=480&&(K.addEventListener("click",V),document.addEventListener("click",Y))},4:function(e,t,n){e.exports=n(36)}});
//# sourceMappingURL=bundle.js.map